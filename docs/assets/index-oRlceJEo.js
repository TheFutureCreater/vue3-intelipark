import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{o as h,c as m,m as v,s as k,ai as F,b as e,x as L,r as s,N as A,d as i,w as n,U,a7 as _,aj as E,p as O,h as R}from"./index-D845pWuP.js";import{i as S}from"./index-zSgAkla4.js";import{g as V}from"./user-iNRZXbo3.js";const M={},W={class:"box-container"};function j(a,r){return h(),m("div",W,[v(a.$slots,"default",{},void 0,!0)])}const q=f(M,[["render",j],["__scopeId","data-v-e05d92c4"]]),D={class:"box-item"},P={key:0,class:"header"},X={__name:"index",props:{title:{type:Boolean},size:Number},setup(a){const r=a,u=k(()=>({height:`${r.size}px`}));return(c,g)=>(h(),m("div",D,[a.title?(h(),m("div",P,[v(c.$slots,"header",{},void 0,!0)])):F("",!0),e("div",{class:"content",style:L(u.value)},[v(c.$slots,"content",{},void 0,!0)],4)]))}},G=f(X,[["__scopeId","data-v-0cc7aad5"]]),d=a=>(O("data-v-8fe9685c"),a=a(),R(),a),H=d(()=>e("span",null,"园区气象",-1)),J={class:"weather-box"},K={id:"place"},Q=d(()=>e("br",null,null,-1)),T={id:"temperature"},Y={id:"weather"},Z=d(()=>e("span",null,"已注册用户",-1)),ee={class:"reg-num-box"},te=d(()=>e("span",null,"充电设备使用状况",-1)),oe=d(()=>e("span",null,"充电订单状况使用状况",-1)),ne={__name:"index",setup(a){const r=s(""),u=s(""),c=s(""),g=s(0),y=s(),x=s();A(()=>{z(),C(),B()});const w=async(o,p)=>{const t=await E.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:o,lon:p,appid:"164e165ac5917a9306610abeb50ed15c",lang:"zh_cn",units:"metric"}});console.log(t.data),r.value=t.data.name,u.value=t.data.main.temp+"℃",c.value=t.data.weather[0].description},C=()=>{const o=document.querySelector("#place");function p(l){const I=l.coords.latitude,N=l.coords.longitude;w(I,N)}function t(){o.textContent="无法获取你的位置"}navigator.geolocation?(o.textContent="定位中……",navigator.geolocation.getCurrentPosition(p,t)):o.textContent="你的浏览器不支持地理位置"};(async()=>{const o=await V({pageNum:1,pageSize:1});g.value=o.data.data.totalRow})();const b=s({tooltip:{trigger:"item"},legend:{orient:"horizontal",left:"center",textStyle:{color:"#000"}},series:[{top:"0%",name:"数量",type:"pie",radius:"50%",data:[{value:12,name:"在用数"},{value:447,name:"可用数"},{value:2,name:"故障数"},{value:10,name:"离网数"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)"}}}]}),z=()=>{S(y.value).setOption(b.value)},$=s({xAxis:{type:"category",data:["5-17","5-18","5-19","5-20","5-21","5-22","5-23"],axisLine:{lineStyle:{color:"#000"}}},yAxis:{type:"value",splitLine:{lineStyle:{type:"dashed",color:"#000"}},axisLine:{lineStyle:{color:"#000"}}},series:[{data:[100,80,85,83,90,16,14],type:"line",symbol:"circle",symbolSize:12,lineStyle:{color:"#30C2F4",width:3,type:"solid"},itemStyle:{borderWidth:3,borderColor:"#BAE4F0",color:"#BAE4F0"}}]}),B=()=>{S(x.value).setOption($.value)};return(o,p)=>{const t=G,l=q;return h(),m(U,null,[i(l,null,{default:n(()=>[i(t,{title:!0,size:"150"},{header:n(()=>[H]),content:n(()=>[e("div",J,[e("span",K,_(r.value),1),Q,e("span",T,_(u.value),1),e("span",Y,_(c.value),1)])]),_:1}),i(t,{title:!0,size:"150"},{header:n(()=>[Z]),content:n(()=>[e("div",ee,[e("span",null," 当前已注册 "+_(g.value)+" 个用户 ",1)])]),_:1})]),_:1}),i(l,null,{default:n(()=>[i(t,{title:!0,size:"400"},{header:n(()=>[te]),content:n(()=>[e("div",{id:"pie-charts",ref_key:"pieChart",ref:y},null,512)]),_:1}),i(t,{title:!0,size:"400"},{header:n(()=>[oe]),content:n(()=>[e("div",{id:"line-chart",ref_key:"lineChart",ref:x},null,512)]),_:1})]),_:1})],64)}}},le=f(ne,[["__scopeId","data-v-8fe9685c"]]);export{le as default};
