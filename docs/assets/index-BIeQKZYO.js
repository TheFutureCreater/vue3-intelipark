import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{o as _,c as m,k as g,q as k,ag as I,a as t,v as F,r as s,J as L,b as i,w as a,P as A,a5 as p,ah as E}from"./index-BYnOmLgs.js";import{i as x}from"./index-nMrSFO8v.js";import{g as O}from"./user-CD6z7JRO.js";const R={},U={class:"box-container"};function V(r,l){return _(),m("div",U,[g(r.$slots,"default",{},void 0,!0)])}const q=v(R,[["render",V],["__scopeId","data-v-aba6cac7"]]),M={class:"box-item"},P={key:0,class:"header"},W={__name:"index",props:{title:{type:Boolean},size:Number},setup(r){const l=r,u=k(()=>({height:`${l.size}px`}));return(c,h)=>(_(),m("div",M,[r.title?(_(),m("div",P,[g(c.$slots,"header",{},void 0,!0)])):I("",!0),t("div",{class:"content",style:F(u.value)},[g(c.$slots,"content",{},void 0,!0)],4)]))}},D=v(W,[["__scopeId","data-v-50c9bc18"]]),J={class:"weather-box"},X={id:"place"},j={id:"temperature"},G={id:"weather"},H={class:"reg-num-box"},K={__name:"index",setup(r){const l=s(""),u=s(""),c=s(""),h=s(0),f=s(),y=s();L(()=>{S(),w(),$()});const b=async(o,e)=>{const n=await E.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:o,lon:e,appid:"164e165ac5917a9306610abeb50ed15c",lang:"zh_cn",units:"metric"}});console.log(n.data),l.value=n.data.name,u.value=n.data.main.temp+"℃",c.value=n.data.weather[0].description},w=()=>{const o=document.querySelector("#place");function e(d){const B=d.coords.latitude,N=d.coords.longitude;b(B,N)}function n(){o.textContent="无法获取你的位置"}navigator.geolocation?(o.textContent="定位中……",navigator.geolocation.getCurrentPosition(e,n)):o.textContent="你的浏览器不支持地理位置"};(async()=>{const o=await O({pageNum:1,pageSize:1});h.value=o.data.data.totalRow})();const C=s({tooltip:{trigger:"item"},legend:{orient:"horizontal",left:"center",textStyle:{color:"#000"}},series:[{top:"0%",name:"数量",type:"pie",radius:"50%",data:[{value:12,name:"在用数"},{value:447,name:"可用数"},{value:2,name:"故障数"},{value:10,name:"离网数"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)"}}}]}),S=()=>{x(f.value).setOption(C.value)},z=s({xAxis:{type:"category",data:["5-17","5-18","5-19","5-20","5-21","5-22","5-23"],axisLine:{lineStyle:{color:"#000"}}},yAxis:{type:"value",splitLine:{lineStyle:{type:"dashed",color:"#000"}},axisLine:{lineStyle:{color:"#000"}}},series:[{data:[100,80,85,83,90,16,14],type:"line",symbol:"circle",symbolSize:12,lineStyle:{color:"#30C2F4",width:3,type:"solid"},itemStyle:{borderWidth:3,borderColor:"#BAE4F0",color:"#BAE4F0"}}]}),$=()=>{x(y.value).setOption(z.value)};return(o,e)=>{const n=D,d=q;return _(),m(A,null,[i(d,null,{default:a(()=>[i(n,{title:!0,size:"150"},{header:a(()=>e[0]||(e[0]=[t("span",null,"园区气象",-1)])),content:a(()=>[t("div",J,[t("span",X,p(l.value),1),e[1]||(e[1]=t("br",null,null,-1)),t("span",j,p(u.value),1),t("span",G,p(c.value),1)])]),_:1}),i(n,{title:!0,size:"150"},{header:a(()=>e[2]||(e[2]=[t("span",null,"已注册用户",-1)])),content:a(()=>[t("div",H,[t("span",null," 当前已注册 "+p(h.value)+" 个用户 ",1)])]),_:1})]),_:1}),i(d,null,{default:a(()=>[i(n,{title:!0,size:"400"},{header:a(()=>e[3]||(e[3]=[t("span",null,"充电设备使用状况",-1)])),content:a(()=>[t("div",{id:"pie-charts",ref_key:"pieChart",ref:f},null,512)]),_:1}),i(n,{title:!0,size:"400"},{header:a(()=>e[4]||(e[4]=[t("span",null,"充电订单状况使用状况",-1)])),content:a(()=>[t("div",{id:"line-chart",ref_key:"lineChart",ref:y},null,512)]),_:1})]),_:1})],64)}}},te=v(K,[["__scopeId","data-v-6d8dc37b"]]);export{te as default};
